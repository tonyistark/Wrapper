"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("uuid");var e=require("json-schema");function r(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var i=0;return e.replace(/%s/g,(function(){var e=r[i++],t=typeof e;return"function"===t?e():"string"===t?e:String(e)}))}var t,i,s,n="%s: Datafile is invalid - property %s: %s",p="%s: JSON object is not valid.",y="%s: No JSON object to validate against schema.";!function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t||(t={})),function(e){e.VUID="vuid",e.FS_USER_ID="fs_user_id"}(i||(i={})),function(e){e.IDENTIFIED="identified",e.INITIALIZED="client_initialized"}(s||(s={}));var a={$schema:"http://json-schema.org/draft-04/schema#",title:"Project Config JSON Schema",type:"object",properties:{projectId:{type:"string",required:!0},accountId:{type:"string",required:!0},groups:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},policy:{type:"string",required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0},events:{type:"array",items:{type:"object",properties:{key:{type:"string",required:!0},experimentIds:{type:"array",items:{type:"string",required:!0}},id:{type:"string",required:!0}}},required:!0},audiences:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},name:{type:"string",required:!0},conditions:{type:"string",required:!0}}},required:!0},attributes:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},version:{type:"string",required:!0},revision:{type:"string",required:!0},integrations:{type:"array",items:{type:"object",properties:{key:{type:"string",required:!0},host:{type:"string"},publicKey:{type:"string"},pixelUrl:{type:"string"}}}}}};exports.validate=function(t,i,s){void 0===i&&(i=a),void 0===s&&(s=!0);var d="".concat("JSON_SCHEMA_VALIDATOR"," (").concat(i.title,")");if("object"!=typeof t||null===t)throw new Error(r(y,d));var o=e.validate(t,i);if(o.valid)return!0;if(!s)return!1;if(Array.isArray(o.errors))throw new Error(r(n,d,o.errors[0].property,o.errors[0].message));throw new Error(r(p,d))};
//# sourceMappingURL=optimizely.json_schema_validator.min.js.map
